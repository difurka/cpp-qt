#pragma once

#include <QTimer>
#include <QMainWindow>
#include <QObject>
#include <QWidget>

namespace prac {

#ifndef PRAC_TESTS

using QTimer = ::QTimer;

#else

class QTimer : public ::QObject{

    Q_OBJECT

<<<<<<< HEAD
<<<<<<< HEAD
public:
    QTimer() {
        last_created_ = this;
    }

    QTimer(QObject* w) : QObject(w){
        last_created_ = this;
    }
    
    QTimer(const QTimer&) = delete;

    ~QTimer() override =default;

=======
    bool is_on_ = false;
    int state_ = 0;

    bool single_shot_ = false;
    int interval_ = 0;

=======
>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))
public:
    QTimer() {
        last_created_ = this;
    }

    QTimer(QObject* w) : QObject(w){
        last_created_ = this;
    }
    
    QTimer(const QTimer&) = delete;

    ~QTimer() override =default;
<<<<<<< HEAD
>>>>>>> ed151b7 (Обновление репы из коммита 5bb7176501eee9f1f0866493eda49c1fcf90db60)
=======

>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))
    bool isOn() const {
        return is_on_;
    }

<<<<<<< HEAD
<<<<<<< HEAD
=======
    int getState() const {
        return state_;
    }

>>>>>>> ed151b7 (Обновление репы из коммита 5bb7176501eee9f1f0866493eda49c1fcf90db60)
=======
>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))
    int getInterval() const {
        return interval_;
    }

    void emitTimeout() {
        emit timeout();
    }

<<<<<<< HEAD
<<<<<<< HEAD
    static QTimer* getLastCreated() {
        return last_created_;
    }
=======
>>>>>>> ed151b7 (Обновление репы из коммита 5bb7176501eee9f1f0866493eda49c1fcf90db60)
=======
    static QTimer* getLastCreated() {
        return last_created_;
    }
>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))

public slots:
    void start(int msec) {
        is_on_ = true;
<<<<<<< HEAD
<<<<<<< HEAD
        interval_ = msec;
=======
        state_ = msec;
>>>>>>> ed151b7 (Обновление репы из коммита 5bb7176501eee9f1f0866493eda49c1fcf90db60)
=======
        interval_ = msec;
>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))
    }

    void start() {
        is_on_ = true;
    }

    void setInterval(int interval) {
        interval_ = interval;
    }

    void setSingleShot(bool single_shot) {
        single_shot_ = single_shot;
    }

    void stop() {
        is_on_ = false;
<<<<<<< HEAD
<<<<<<< HEAD
=======
        state_ = 0;
>>>>>>> ed151b7 (Обновление репы из коммита 5bb7176501eee9f1f0866493eda49c1fcf90db60)
=======
>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))
    }

signals:
    void timeout();

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))
private:
    inline static QTimer* last_created_ = nullptr;

    bool is_on_ = false;
    bool single_shot_ = false;
    int interval_ = 0;
<<<<<<< HEAD
=======
>>>>>>> ed151b7 (Обновление репы из коммита 5bb7176501eee9f1f0866493eda49c1fcf90db60)
=======
>>>>>>> 8d1ad25 (Обновление репы из коммита e58c1d9066fd9b4a8c0b5030c44729a77f06dbed (#10))
};


#endif

}  // namespace prac
